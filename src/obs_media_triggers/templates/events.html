{% extends "base.html" %}

{% block title %}OBS Events{% endblock %}

{% block content %}
<h1 class="pb-3 mb-5">OBS Events</h1>

<table class="table text-break">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">OBS ID</th>
      <th scope="col">Type</th>
      <th scope="col">Scene Name</th>
      <th scope="col">Source Name</th>
      <th scope="col">Additional Properties</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>

  <tbody>
    {% for e in events.get_all_events(obs.id) %}
    <tr>
      <td scope="col">{{e.id}}</td>
      <td scope="col">{{e.id}}</td>
      <td scope="col">{{e.type}}</td>
      <td scope="col">{{e.scene_name}}</td>
      <td scope="col">{{e.source_name}}</td>
      <td scope="col">
        {% for k,v in e.fields.items() %}
        {{k.title().replace('E_', '')}}: {{v.title()}},
        {% endfor %}
      </td>
      <td>[Edit] [Delete]</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<div class="col-12 mt-4">
  <a href="{{request.base_url}}/add" class="btn btn-success">+ New Event</a>
</div>
{% endblock %}